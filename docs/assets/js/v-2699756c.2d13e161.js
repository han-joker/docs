"use strict";(self.webpackChunkhan_joker_docs=self.webpackChunkhan_joker_docs||[]).push([[932],{3519:(n,e,s)=>{s.r(e),s.d(e,{data:()=>a});const a={key:"v-2699756c",path:"/tools/mkcert.html",title:"mkcert",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"初见",slug:"初见",children:[]},{level:2,title:"快速使用",slug:"快速使用",children:[]},{level:2,title:"安装 mkcert",slug:"安装-mkcert",children:[{level:3,title:"Linux",slug:"linux",children:[]},{level:3,title:"Windows",slug:"windows",children:[]},{level:3,title:"macOS",slug:"macos",children:[]}]},{level:2,title:"使用证书",slug:"使用证书",children:[]}],filePathRelative:"tools/mkcert.md",git:{updatedTime:1628857121e3}}},8556:(n,e,s)=>{s.r(e),s.d(e,{default:()=>P});var a=s(6252);const l=(0,a.Wm)("h1",{id:"mkcert",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#mkcert","aria-hidden":"true"},"#"),(0,a.Uk)(" mkcert")],-1),t=(0,a.Uk)("Github："),r={href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"},o=(0,a.Uk)("https://github.com/FiloSottile/mkcert"),i=(0,a.Uk)("。"),c=(0,a.uE)('<h2 id="初见" tabindex="-1"><a class="header-anchor" href="#初见" aria-hidden="true">#</a> 初见</h2><p>mkcert 是用于创建本地信任证书的简单工具。它是免配的。</p><p>我们在开发环境使用 HTTPS ，SSL 时，证书的处理总是很麻烦。mkcert 这个小工具可以帮我们快速的生成用于本地测试的证书和密钥。非常方便。</p><p>mkcert 是 Google 的一位密码学工程师，使用 Go 编写的。</p><h2 id="快速使用" tabindex="-1"><a class="header-anchor" href="#快速使用" aria-hidden="true">#</a> 快速使用</h2><p>安装好 mkcert 后，仅需两步，即可得到 SSL 证书。</p><ol><li>安装本地 CA，<code> mkcert -install</code></li><li>生成站点证书，<code>mkcert example.com &quot;*.example.com&quot; example.test localhost 127.0.0.1 ::1</code></li></ol><p>操作如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ mkcert -install\nCreated a new <span class="token builtin class-name">local</span> CA 💥\nThe <span class="token builtin class-name">local</span> CA is now installed <span class="token keyword">in</span> the system trust store<span class="token operator">!</span> ⚡️\nThe <span class="token builtin class-name">local</span> CA is now installed <span class="token keyword">in</span> the Firefox trust store <span class="token punctuation">(</span>requires browser restart<span class="token punctuation">)</span><span class="token operator">!</span> 🦊\n\n$ mkcert example.com <span class="token string">&quot;*.example.com&quot;</span> example.test localhost <span class="token number">127.0</span>.0.1 ::1\n\nCreated a new certificate valid <span class="token keyword">for</span> the following names 📜\n - <span class="token string">&quot;example.com&quot;</span>\n - <span class="token string">&quot;*.example.com&quot;</span>\n - <span class="token string">&quot;example.test&quot;</span>\n - <span class="token string">&quot;localhost&quot;</span>\n - <span class="token string">&quot;127.0.0.1&quot;</span>\n - <span class="token string">&quot;::1&quot;</span>\n\nThe certificate is at <span class="token string">&quot;./example.com+5.pem&quot;</span> and the key at <span class="token string">&quot;./example.com+5-key.pem&quot;</span> ✅\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>',9),p=(0,a.Uk)("以上示例来自于 "),u={href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"},m=(0,a.Uk)("https://github.com/FiloSottile/mkcert"),d=(0,a.Uk)("。"),b=(0,a.Wm)("p",null,[(0,a.Uk)("生成的证书文件在 "),(0,a.Wm)("code",null,"./"),(0,a.Uk)(" 下，一个证书文件和一个密钥文件。")],-1),h=(0,a.Wm)("p",null,"当然这有个前提是先安装好 mkcert 命令。",-1),k=(0,a.Wm)("h2",{id:"安装-mkcert",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#安装-mkcert","aria-hidden":"true"},"#"),(0,a.Uk)(" 安装 mkcert")],-1),g=(0,a.Uk)("推荐的安装方案如下，详细的安装方案，请参考 "),f={href:"https://github.com/FiloSottile/mkcert#installation",target:"_blank",rel:"noopener noreferrer"},x=(0,a.Uk)("FiloSottile/mkcert"),v=(0,a.Uk)("。"),W=(0,a.uE)('<h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h3><ul><li>首先安装 <code>certutil</code></li><li>然后安装 mkcert，建议下载预编译好的二进制程序</li></ul><p>首先安装 <code>certutil</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libnss3-tools\n    -or-\n<span class="token function">sudo</span> yum <span class="token function">install</span> nss-tools\n    -or-\n<span class="token function">sudo</span> pacman -S nss\n    -or-\n<span class="token function">sudo</span> <span class="token function">zypper</span> <span class="token function">install</span> mozilla-nss-tools\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',4),w={href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"},q=(0,a.Uk)("二进制程序下载位置"),U=(0,a.Uk)("，选择合适的版。例如："),S=(0,a.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">wget</span> https://github.com/FiloSottile/mkcert/releases/download/v1.4.3/mkcert-v1.4.3-linux-amd64\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>下载后，通常需要改名或、放在 $PATH 路径中，并赋予可执行权限。例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> u+x mkcert-v1.4.3-linux-amd64\n<span class="token function">sudo</span> <span class="token function">mv</span> mkcert-v1.4.3-linux-amd64 /usr/bin/mkcert\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>至此，mkcert 安装完毕，可以快速获取本地 CA 和证书了，参考快速使用即可。</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> Windows</h3>',5),C=(0,a.Uk)("推荐使用预编译的二进制程序，"),F={href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"},y=(0,a.Uk)("二进制程序下载位置"),_=(0,a.Uk)("。执行时，若权限不足，请使用管理员来运行。"),T=(0,a.Wm)("h3",{id:"macos",tabindex:"-1"},[(0,a.Wm)("a",{class:"header-anchor",href:"#macos","aria-hidden":"true"},"#"),(0,a.Uk)(" macOS")],-1),A=(0,a.Uk)("推荐使用 "),H={href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"},L=(0,a.Uk)("Homebrew"),E=(0,a.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>brew install mkcert\nbrew install nss # if you use Firefox\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="使用证书" tabindex="-1"><a class="header-anchor" href="#使用证书" aria-hidden="true">#</a> 使用证书</h2><p>有了证书后，就可以使用该证书和 CA 了。</p><p>例如：<a href="#">使用 Nginx 搭建 HTTPS 服务器</a>。</p>',4),P={render:function(n,e){const s=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[l,(0,a.Wm)("p",null,[t,(0,a.Wm)("a",r,[o,(0,a.Wm)(s)]),i]),c,(0,a.Wm)("p",null,[p,(0,a.Wm)("a",u,[m,(0,a.Wm)(s)]),d]),b,h,k,(0,a.Wm)("p",null,[g,(0,a.Wm)("a",f,[x,(0,a.Wm)(s)]),v]),W,(0,a.Wm)("p",null,[(0,a.Wm)("a",w,[q,(0,a.Wm)(s)]),U]),S,(0,a.Wm)("p",null,[C,(0,a.Wm)("a",F,[y,(0,a.Wm)(s)]),_]),T,(0,a.Wm)("p",null,[A,(0,a.Wm)("a",H,[L,(0,a.Wm)(s)])]),E],64)}}}}]);